<div class="game-launcher-container">
  <div class="header">
    <h1 class="title">ğŸ® Game Launcher</h1>
  </div>

  <div class="status-card" [class.connected]="isConnected()" [class.server]="hasServer()" [class.client]="isClient()">
    <div class="status-indicator">
      <span class="status-dot" [class.active]="isConnected()"></span>
      <span class="status-text">{{ statusMessage() }}</span>
    </div>
    <div class="role-badge" *ngIf="isConnected()">
      {{ connectionRole() === 'server' ? 'ğŸ–¥ï¸ Server' : 'ğŸ’» Client' }}
    </div>
  </div>

  <div class="main-actions">
    <button
      class="play-button"
      [class.disabled]="!isConnected()"
      [disabled]="!isConnected()"
      (click)="launchGame()">
      <span class="button-icon">â–¶ï¸</span>
      <span class="button-text">Play Random Game</span>
    </button>

    <button
      class="close-button"
      [class.disabled]="!isConnected()"
      [disabled]="!isConnected()"
      (click)="closeGame()">
      <span class="button-icon">â¹ï¸</span>
      <span class="button-text">Close Game</span>
    </button>
  </div>

  <div class="connection-panel">
    <h2 class="panel-title">Connection Settings</h2>

    <div class="input-group">
      <label for="serverUrl">Server Address:</label>
      <input
        id="serverUrl"
        type="text"
        [(ngModel)]="serverUrl"
        placeholder="localhost:4203"
        [disabled]="isConnected()">
    </div>

    <div class="input-group">
      <label for="serverPort">Port:</label>
      <input
        id="serverPort"
        type="number"
        [(ngModel)]="serverPort"
        placeholder="4203"
        [disabled]="isConnected() || hasServer()">
    </div>

    <div class="button-group">
      <button
        class="action-button primary"
        [disabled]="isConnected()"
        (click)="autoConnect()">
        ğŸ”Œ Auto Connect
      </button>

      <button
        class="action-button"
        [disabled]="isConnected() || hasServer()"
        (click)="createServer()">
        ğŸ–¥ï¸ Create Server
      </button>

      <button
        class="action-button"
        [disabled]="isConnected()"
        (click)="connect()">
        ğŸ”— Connect
      </button>

      <button
        class="action-button danger"
        [disabled]="!isConnected()"
        (click)="disconnect()">
        âŒ Disconnect
      </button>
    </div>
    <div hidden class="status-card" style="background-color: darkred " #errorGroup>
          <p #errorText></p>
    </div>
  </div>

  <div class="info-box">
    <p>ğŸ’¡ <strong>Tip:</strong> Click "Play Random Game" to automatically connect and launch a random game.
    The first PC to click becomes the server, the second becomes the client.</p>
  </div>
</div>
